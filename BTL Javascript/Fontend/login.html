<!DOCTYPE html>
<html>
<head>
	<title>How to Design Login & Registration Form Transition</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="login.css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700,800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="cont">
    <div class="form sign-in">
      <h2>Sign In</h2>
      <label>
        <span>Tên tài khoản hoặc địa chỉ email</span>
        <input type="email" name="email" id="name_login">
      </label>
      <label>
        <span>Mật khẩu</span>
        <input type="password" name="password" id="password_login">
      </label>
      <button class="submit" type="button" onclick="login()">Đăng nhập</button>
      <p id="message" style="color:red;"></p>
      <p class="forgot-pass">Forgot Password ?</p>

      <div class="social-media">
        <ul>
          <li><a href="https://www.facebook.com/NXHsneakerstore/">
            <img src="images/facebook.png"></a></li>
          <li><a href="https://www.instagram.com/authentic_shoes_store/"><img src="images/twitter.png"></a></li>
          <li><a href="https://www.linkedin.com/feed/"><img src="images/linkedin.png"></a></li>
          <li><a href="https://www.instagram.com/authentic_shoes_store/"><img src="images/instagram.png"></a></li>
        </ul>
      </div>
    </div>

    <div class="sub-cont">
      <div class="img">
        <div class="img-text m-up">
          <h2>New here?</h2>
          <p>Sign up and discover great amount of new opportunities!</p>
        </div>
        <div class="img-text m-in">
          <h2>One of us?</h2>
          <p>If you already has an account, just sign in. We've missed you!</p>
        </div>
        <div class="img-btn">
          <span class="m-up">Sign Up</span>
          <span class="m-in">Sign In</span>
        </div>
      </div>
      <div class="form sign-up">
        <h2>Sign Up</h2>
        <label>
          <span>Name</span>
          <input type="text">
        </label>
        <label>
          <span>Email</span>
          <input type="email">
        </label>
        <label>
          <span>Password</span>
          <input type="password">
        </label>
        <label>
          <span>Confirm Password</span>
          <input type="password">
        </label>
        <button type="button" class="submit" onclick="register()">Sign Up Now</button>
      </div>
    </div>
  </div>
<script>
  document.querySelector('.img-btn').addEventListener('click', function()
	{
		document.querySelector('.cont').classList.toggle('s-signup')
	}
);



 if (localStorage.getItem('LoggedIn') === "true") {
	window.location.href = "BTL.html";
}
var ten_dang_nhap_element =document.getElementById("name_login");
var mat_khau_element = document.getElementById("password_login");
function login() {
	var ten_dang_nhap = ten_dang_nhap_element.value;
	var mat_khau = mat_khau_element.value;
  const defaultEmail = "truongthk024@gmail.com";
  const defaultPassword = "123456";
  const userEmail = localStorage.getItem("UserEmail");
  const userPassword = localStorage.getItem("UserPassword");
  if (
    (ten_dang_nhap === defaultEmail && mat_khau === defaultPassword) || (ten_dang_nhap === userEmail && mat_khau === userPassword)
  ) {
    localStorage.setItem("LoggedIn","true");
    localStorage.setItem("UserEmail",ten_dang_nhap);
    window.location.href = "BTL.html";
  }
	else {
		message.textContent = "Tài khoản hoặc mật khẩu không đúng !";
	}
}



function register() {
  const signUpForm = document.querySelector(".sign-up");
  const name = signUpForm.querySelectorAll("input")[0].value;
  const email = signUpForm.querySelectorAll("input")[1].value;
  const password = signUpForm.querySelectorAll("input")[2].value;
  const ConfirmPassword = signUpForm.querySelectorAll("input")[3].value;

  if (!name || !email || !password || !ConfirmPassword) {
    alert("Vui lòng điền đầy đủ thông tin")    // Nếu có bất kì ô nào trống -> cảnh báo và return
    return;
  }
  if (!password || ! ConfirmPassword) {
    alert("Mật khẩu xác nhận không khớp.");
    return;
  }
  localStorage.setItem("UserEmail",email);
  localStorage.setItem("UserPassword",password);       //Lưu tài khoản và mật khẩu vào localStorage LoggedIn = "true" để biết rằng người dùng đã đăng nhập sau khi đăng kí
  localStorage.setItem("LoggedIn","true");
  window.location.href = "BTL.html";
}
</script>
</body>
</html>